@page "/"

@inject IJSRuntime JSRuntime
@inject ILogger<Index> Logger

<PageTitle>QuantumDiffusion3DFD</PageTitle>

<h1>Quantum De-coherence Simulation</h1>
<div id="threejs-container" style="position: relative; width: 100%; height: 100%;">
    <canvas id="threejs-canvas"></canvas>
</div>
<div class="slider-container">
    <div class="slider">
        <div class="label-container">
            <label for="hbarSlider">H-bar:</label>
            <span class="value-display">@_hbar.ToString("0.0000")</span>
        </div>
        <input type="range" id="hbarSlider" min="@MinLogValue" max="@MaxLogValue" step="0.01"
               value="@_hbarSliderPosition" @oninput="OnHbarSliderChanged" />
    </div>
    <div class="slider">
        <div class="label-container">
            <label for="hbarSlider">Mass:</label>
            <span class="value-display">@_mass.ToString("0.0000")</span>
        </div>
        <input type="range" id="massSlider" min="@MinLogValue" max="@MaxLogValue" step="0.01"
               value="@_massSliderPosition" @oninput="OnMassSliderChanged" />
    </div>
    <div class="slider">
        <div class="label-container">
            <label for="pointSizeSlider">Point Size:</label>
            <span class="value-display">@_pointSize.ToString("0.0")</span>
        </div>
        <input type="range" id="pointSizeSlider" min="1" max="26" step="0.01"
               value="@_pointSize" @oninput="UpdatePointSize" />
    </div>
</div>

<p>Wavefunction Value at (x, y, z): @_wavefunctionValue</p>
<p>Frame Count: @_frameCount</p>
<p>Frame Rate: @_frameRate FPS</p>
<button @onclick="TogglePause">@(Paused ? "Resume" : "Pause")</button>